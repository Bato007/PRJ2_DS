<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>FTUs Identifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='theme.css' ) }}">
    <link type="image/png" rel="icon" href="{{ url_for('static', filename='favicon.png' ) }}">
</head>

<body>
    <div class="full-container">

        <h1>Identificación de células</h1>

        <div class="row">

            <img src="https://cdn-icons-png.flaticon.com/512/4178/4178748.png" alt="body" />
            <form class="container" method="POST" action="" enctype=multipart/form-data>
                <div class="organ-selector">
                    <h4>Seleccione el órgano</h4>
                    <select name="organ_select">
                        {% for organ in organs %}
                        <option value={{organ}} selected>{{ organ }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="organ-selector">
                    <h4>Subir célula</h4>
                    <input type="file" onchange="enableButton()" id="file" name="file"></input>
                </div>
                <button type="submit">Procesar</button>
            </form>

        </div>

        {% block content %}
        {% if showResult %}
        <h5>Mostrando resultado para {{ organ }}</h5>
        <div class="display" style="background-image: url('{{result}}')"></div>
        {% else %}
        <div class="loading"></div>
        {% endif %}
        {% endblock content %}

    </div>
</body>

<script type="text/javascript">
    var button = document.querySelector('button[type=submit]');

    button.disabled = true;

    document.getElementById('file').addEventListener('change', function () {
        if (this.value.length > 0) {
            button.disabled = false;
        } else {
            button.disabled = true;
        }
    });
</script>

</html>